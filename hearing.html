<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¬åŠ›è®°å¿†æ’åºæ¸¸æˆ</title>
    <script>
        (function (w, d, s, q, i) {
            w[q] = w[q] || [];
            var f = d.getElementsByTagName(s)[0], j = d.createElement(s);
            j.async = true;
            j.id = 'beacon-aplus';
            j.src = 'https://d.alicdn.com/alilog/mlog/aplus/' + i + '.js';
            f.parentNode.insertBefore(j, f);

        })(window, document, 'script', 'aplus_queue', '203467608');

        //é›†æˆåº”ç”¨çš„appKey
        aplus_queue.push({
            action: 'aplus.setMetaInfo',
            arguments: ['appKey', '68624fdc79267e0210996355']
        });

        /* å¦‚æœä½¿ç”¨çš„æ˜¯å•é¡µé¢åº”ç”¨ï¼Œä¾‹å¦‚ï¼šReactã€Vueã€Angularç­‰ï¼Œåˆ™éœ€è¦æ·»åŠ ä¸‹é¢çš„ä»£ç  */
        /* å…³é—­è‡ªåŠ¨PVå‘é€ï¼Œå¦‚æœä¸æ˜¯å•é¡µé¢åº”ç”¨ï¼Œè¯·åˆ æ‰ä¸‹æ–¹ä»£ç  */
        aplus_queue.push({
            action: 'aplus.setMetaInfo',
            arguments: ['aplus-waiting', 'MAN']
        });

        //æ˜¯å¦å¼€å¯è°ƒè¯•æ¨¡å¼
        aplus_queue.push({
            action: 'aplus.setMetaInfo',
            arguments: ['DEBUG', true]
        });
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #6B73FF 0%, #000DFF 100%);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "å¾®è½¯é›…é»‘", sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px !important;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 40px 20px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #333;
            margin-bottom: 15px !important;
            font-size: 32px !important;
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 10px;
        }

        .status-item {
            font-size: 16px;
            color: #666;
        }

            .status-item strong {
                color: #333;
            }

        .display-area {
            min-height: 90px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #e0e0e0;
        }

        .number-display {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            min-height: 30px;
            display: none; /* éšè—æ•°å­—æ˜¾ç¤º */
            align-items: center;
            justify-content: center;
        }

        .msg {
            color: #f60909;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .input-area {
            margin-bottom: 30px;
        }

        .number-input {
            width: 100%;
            padding: 15px;
            font-size: 24px;
            text-align: center;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            transition: border-color 0.3s;
        }

            .number-input:focus {
                outline: none;
                border-color: #6B73FF;
            }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .btn {
            padding: 10px 20px;
            font-size: 18px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-primary {
            background: #6B73FF;
            color: white;
        }

            .btn-primary:hover {
                background: #5a62e0;
                transform: translateY(-2px);
            }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

            .btn-secondary:hover {
                background: #e0e0e0;
            }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-size: 16px;
            display: none;
        }

            .message.success {
                background: #d4edda;
                color: #155724;
                border: 1px solid #c3e6cb;
            }

            .message.error {
                background: #f8d7da;
                color: #721c24;
                border: 1px solid #f5c6cb;
            }

            .message.info {
                background: #d1ecf1;
                color: #0c5460;
                border: 1px solid #bee5eb;
            }

        .game-over {
            display: none;
            text-align: center;
        }

            .game-over h2 {
                color: #333;
                margin-bottom: 20px;
            }

        .score {
            font-size: 48px;
            color: #6B73FF;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .instructions {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: left;
        }

            .instructions h3 {
                margin-bottom: 10px;
                color: #333;
            }

            .instructions ul {
                list-style-position: inside;
                color: #666;
                line-height: 1.8;
            }

        .headmsg {
            padding-bottom: 15px;
            font-size: 14px;
            color: #f60909;
        }
        .foot{
           padding-left:10px;
        }
        .cont{
          color:#000;
        }
        ul li{
          list-style:none;
        }
        .icon-img{
            width:1.5rem
        }
         .h3-1 {
            display: flex;
        }

        /* æ•°å­—é”®ç›˜æ ·å¼ */
        .number-keyboard {
            display: none; /* åˆå§‹éšè— */
            grid-template-columns: repeat(12, 1fr); /* ä¿®æ”¹ä¸º12åˆ—ä¸€è¡Œæ˜¾ç¤º */
            gap: 8px;
            max-width: 100%; /* ç¡®ä¿ä¸è¶…å‡º */
            margin: 20px auto;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid #e0e0e0;
        }
        
        .number-key {
            width: auto; /* æ”¹ä¸ºè‡ªé€‚åº”å®½åº¦ */
            height: 50px;
            font-size: 20px;
            font-weight: bold;
            background: #fff;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
            min-width: 0; /* é˜²æ­¢æŒ‰é’®è¿‡å° */
        }
        
        .number-key:hover {
            background: #e3f2fd;
            border-color: #2196F3;
            transform: scale(1.05);
        }
        
        .number-key:active {
            transform: scale(0.95);
            background: #bbdefb;
        }
        
        .number-key.backspace {
            background: #ff5722;
            color: white;
            font-size: 14px; /* ç¨å¾®è°ƒå°å­—ä½“ */
        }
        
        .number-key.backspace:hover {
            background: #d84315;
        }
        
        .number-key.clear {
            background: #f44336;
            color: white;
            font-size: 14px;
        }
        
        .number-key.clear:hover {
            background: #c62828;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .number-keyboard {
                grid-template-columns: repeat(12, 1fr); /* ä¿æŒ12åˆ— */
                max-width: 100%;
                gap: 4px; /* å‡å°é—´è· */
                padding: 15px;
            }
            
            .number-key {
                height: 40px;
                font-size: 16px;
            }
            
            .number-key.backspace,
            .number-key.clear {
                font-size: 12px;
            }
            
            .number-input {
                font-size: 20px;
            }
        }
        
        /* ç§»é™¤é”®ç›˜åˆ‡æ¢æŒ‰é’®æ ·å¼ */
        .keyboard-toggle {
            display: none !important; /* å®Œå…¨éšè—åˆ‡æ¢æŒ‰é’® */
        }
        
        /* è¾“å…¥åŒºåŸŸåˆå§‹éšè— */
        .input-area {
            margin-bottom: 30px;
            display: none; /* åˆå§‹éšè— */
        }
        
        /* æ·»åŠ æ•°å­—æ˜¾ç¤ºåŒºåŸŸæ ·å¼ */
        .number-display {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            min-height: 30px;
            display: none; /* éšè—æ•°å­—æ˜¾ç¤º */
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>å¬è§‰è®°å¿†æµ‹è¯•</h1>
        <div class="headmsg">
            â€» æœ¬æµ‹è¯•ä¼šæ’­æ”¾éŸ³é¢‘ï¼Œè¯·å…³é—­é™éŸ³ï¼Œè°ƒæ•´éŸ³é‡
        </div>
        <div class="instructions" id="instructions">
             <h3 class="h3-1" onclick="playRules()">æµ‹è¯•è§„åˆ™ï¼š<img class="icon-img" src="data:image/png;base64,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" /></h3>
            <ul>
                <li>1. <span class="cont">è®°å¿†æ•°å­—ï¼š</span>ä»”ç»†å¬å¹¶è®°ä½æ‰€æœ‰æ•°å­—ã€‚</li>
                <li>2. <span class="cont">æ’åºè¦æ±‚ï¼š</span><span class="msg">å°†æ•°å­—æŒ‰ä»å°åˆ°å¤§æ’åˆ—ã€‚</span></li>
                <li>3. <span class="cont">æ•°å­—æ•°é‡ï¼š</span>é¢˜ç›®ä» 3 ä¸ªæ•°å­—å¼€å§‹ï¼Œæœ€å¤š 16 ä¸ªã€‚</li>
                <li>4. <span class="cont">ç­”é¢˜è§„åˆ™ï¼š</span></li>
                <li class="foot">â€¢ å¡«å¯¹æ•°å­—ï¼šç›´æ¥è¿›å…¥ä¸‹ä¸€é¢˜ã€‚</li>
                <li class="foot">â€¢ å¡«é”™æ•°å­—ï¼šé‡æ–°æ’­æ”¾ç›¸åŒæ•°é‡çš„æ•°å­—ï¼Œå†æ¬¡å°è¯•ï¼›è‹¥å†æ¬¡é”™è¯¯åˆ™æµ‹è¯•ç»“æŸã€‚</li>
            </ul>
        </div>

        <div class="status-bar" id="statusBar" style="display: none;">
            <div class="status-item" style="display: none;">
                <strong> <span id="currentGroup">1</span> </strong> /14é¢˜
            </div>
            <div class="status-item">
                <strong><span id="currentAttempt">1</span></strong> / 2æ¬¡
            </div>
            <div class="status-item">
                <strong><span id="numberCount">3</span> ä¸ªæ•°å­—</strong>
            </div>
        </div>

        <div class="display-area" id="displayArea" style="display: none;">
            <!--<div class="number-display" id="numberDisplay">å‡†å¤‡å¼€å§‹...</div>-->
            å°†å¬åˆ°çš„æ•°å­—æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—
        </div>

        <div class="input-area" id="inputArea" style="display: none;">
            <div class="number-display" id="numberDisplay">è¾“å…¥çš„æ•°å­—ï¼š</div>
            <input type="text" class="number-input" id="answerInput"
                   placeholder="è¯·è¾“å…¥æ•°å­—" disabled readonly>
            
            <!-- é”®ç›˜åˆ‡æ¢æŒ‰é’® -->
            <button class="keyboard-toggle" id="keyboardToggle">æ˜¾ç¤ºæ•°å­—é”®ç›˜</button>
            
            <!-- æ•°å­—é”®ç›˜ -->
            <div class="number-keyboard" id="numberKeyboard">
                <div class="number-key" data-number="1">1</div>
                <div class="number-key" data-number="2">2</div>
                <div class="number-key" data-number="3">3</div>
                <div class="number-key" data-number="4">4</div>
                <div class="number-key" data-number="5">5</div>
                <div class="number-key" data-number="6">6</div>
                <div class="number-key" data-number="7">7</div>
                <div class="number-key" data-number="8">8</div>
                <div class="number-key" data-number="9">9</div>
                <div class="number-key" data-number="0">0</div>
                <div class="number-key backspace">åˆ é™¤</div>
                <div class="number-key clear">æ¸…ç©º</div>
            </div>
        </div>

        <div class="button-group">
            <button class="btn btn-primary" id="startBtn">å¼€å§‹æµ‹è¯•</button>
            <button class="btn btn-secondary" id="playBtn" style="display: none;">æ’­æ”¾æ•°å­—</button>
            <button class="btn btn-primary" id="submitBtn" style="display: none;" disabled>æäº¤ç­”æ¡ˆ</button>
        </div>

        <div class="message" id="message"></div>

        <div class="game-over" id="gameOver">
            <h2>æµ‹è¯•ç»“æŸï¼</h2>
            <div class="score" id="finalScore">0</div>
            <p>ä½ å®Œæˆäº† <span id="completedGroups">0</span> ç»„é¢˜ç›®</p>
            <button class="btn btn-primary" onclick="location.reload()">é‡æ–°å¼€å§‹</button>
        </div>
        <div>
            <audio id="audio"></audio>
        </div>
    </div>

    <script>
        // æ¸¸æˆçŠ¶æ€
        let gameState = {
            currentGroup: 1,
            currentAttempt: 1,
            numberCount: 3,
            currentNumbers: [],
            isPlaying: false,
            maxGroups: 14
        };

        // DOMå…ƒç´ 
        const elements = {
            startBtn: document.getElementById('startBtn'),
            playBtn: document.getElementById('playBtn'),
            submitBtn: document.getElementById('submitBtn'),
            answerInput: document.getElementById('answerInput'),
            audioPlay: document.getElementById('audio'),
            numberDisplay: document.getElementById('numberDisplay'), // æ·»åŠ è¿™ä¸€è¡Œ
            message: document.getElementById('message'),
            currentGroup: document.getElementById('currentGroup'),
            currentAttempt: document.getElementById('currentAttempt'),
            numberCount: document.getElementById('numberCount'),
            instructions: document.getElementById('instructions'),
            statusBar: document.getElementById('statusBar'),
            displayArea: document.getElementById('displayArea'),
            inputArea: document.getElementById('inputArea'),
            gameOver: document.getElementById('gameOver'),
            finalScore: document.getElementById('finalScore'),
            completedGroups: document.getElementById('completedGroups'),
            numberKeyboard: document.getElementById('numberKeyboard'),
            keyboardToggle: document.getElementById('keyboardToggle')
        };


        // ç”Ÿæˆä¸é‡å¤çš„éšæœºæ•°å­—æ•°ç»„
        function generateNumbers(count) {
            const numbers = [];
            let lastNumber = -1;

            while (numbers.length < count) {
                const num = Math.floor(Math.random() * 10);
                if (num !== lastNumber) {
                    numbers.push(num);
                    lastNumber = num;
                }
            }

            return numbers;
        }

        const videoList = [];

        function getVideo(number) {

            //"{\"text\":\"å°æ˜ï¼Œä½ å¥½å‘€ï¼æˆ‘æ˜¯å–œæ´‹æ´‹ï¼Œå¾ˆé«˜å…´è§åˆ°ä½ ï¼ğŸ˜Š ä»Šå¤©ä½ æƒ³é—®äº›ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿæˆ‘å¯ä»¥é™ªä½ ä¸€èµ·æ¢ç´¢è¿™ä¸ªç¥å¥‡çš„ä¸–ç•Œå“¦ï¼ æ¯”å¦‚è¯´ï¼Œä½ çŸ¥é“ä¸ºä»€ä¹ˆå¤©æ˜¯è“çš„å—ï¼Ÿæˆ–è€…ï¼Œä½ çŸ¥é“å°èš‚èšæ˜¯æ€ä¹ˆæ‰¾åˆ°å›å®¶çš„è·¯çš„å—ï¼Ÿå¦‚æœä½ æœ‰å…¶ä»–é—®é¢˜ï¼Œä¹Ÿå¯ä»¥éšæ—¶é—®æˆ‘ï¼ä½ æƒ³å…ˆä»å“ªä¸ªå¼€å§‹å‘¢ï¼Ÿ\",\"key\":\"488de86a0e967d78b3055057a5e09a82\",\"options\":{\"per\":20001,\"spd\":5,\"pit\":5,\"vol\":5}}"

            var txtdata = {}
            if (number == 10) {
                const txt = '1. è®°å¿†æ•°å­—ï¼šä»”ç»†å¬å¹¶è®°ä½æ‰€æœ‰æ•°å­—ã€‚2.æ’åºè¦æ±‚ï¼šå°†æ•°å­—æŒ‰ä»å°åˆ°å¤§æ’åˆ—ã€‚3. æ•°å­—æ•°é‡ï¼šé¢˜ç›®ä» 3 ä¸ªæ•°å­—å¼€å§‹ï¼Œæœ€å¤š 16 ä¸ªã€‚4. ç­”é¢˜è§„åˆ™ï¼šå¡«å¯¹æ•°å­—ï¼šç›´æ¥è¿›å…¥ä¸‹ä¸€é¢˜ã€‚å¡«é”™æ•°å­—ï¼šé‡æ–°æ’­æ”¾ç›¸åŒæ•°é‡çš„æ•°å­—ï¼Œå†æ¬¡å°è¯•ï¼›è‹¥å†æ¬¡é”™è¯¯åˆ™æµ‹è¯•ç»“æŸã€‚';
                txtdata = { text: txt, key: 'maseai/' + number.toString(), options: { per: 4, spd: 5, pit: 5, vol: 5 } };
            } else {
                txtdata = { text: number.toString(), key: 'maseai/' + number.toString(), options: { per: 4, spd: 5, pit: 5, vol: 5 } };
            }
          
            fetch("https://api.keepwork.com/ts-storage/text2audio", {
                headers: {
                    "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:140.0) Gecko/20100101 Firefox/140.0",
                    "Accept": "application/json",
                    "Accept-Language": "zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2",
                    "content-type": "application/json",
                    "Sec-Fetch-Dest": "empty",
                    "Sec-Fetch-Mode": "cors",
                    "Sec-Fetch-Site": "same-site",
                    "Priority": "u=0",
                },
                referrer: "https://keepwork.com/",
                body: JSON.stringify(txtdata),
                method: "POST",
                mode: "cors"
            })
                .then(response => response.json())
                .then(res => {
                    videoList[number] = res.data
                })
                .catch(error => {
                    console.log(error)
                });
        }


        function initPage() {
            const { aplus_queue } = window;
            var now = new Date(); // åˆ›å»ºä¸€ä¸ªDateå¯¹è±¡ï¼Œå®ƒä»£è¡¨å½“å‰æ—¥æœŸå’Œæ—¶é—´
            var timeString = now.toLocaleTimeString(); // å°†æ—¥æœŸå’Œæ—¶é—´è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´å­—ç¬¦ä¸²
            //ä¸€ä¸ªç®€å•çš„demo
            aplus_queue.push({
                action: 'aplus.record',
                arguments: ['$$_exposure', 'MaSiAi', {
                    //keyä¸ºå­—ç¬¦ä¸²ç±»å‹, valueä¸ºå­—ç¬¦ä¸²æˆ–Numberç±»å‹ï¼Œé•¿åº¦å‡é™åˆ¶åœ¨128ä½å­—ç¬¦ä»¥å†…
                    pageName: "hearing",
                    time: timeString,
                }]
            });
            for (var i = 0; i <= 10; i++) {
                getVideo(i)
            }
            
            // åˆå§‹åŒ–æ•°å­—é”®ç›˜
            initNumberKeyboard();
            
            // åˆå§‹çŠ¶æ€ï¼šéšè—è¾“å…¥åŒºåŸŸå’Œé”®ç›˜
            elements.inputArea.style.display = 'none';
            elements.numberKeyboard.style.display = 'none';
            elements.keyboardToggle.style.display = 'none';
            // è®¾ç½®è¾“å…¥æ¡†ä¸ºåªè¯»ï¼Œç›´åˆ°æ’­æ”¾å®Œæˆ
            elements.answerInput.setAttribute('readonly', 'readonly');
        }
        
        // æ’­æ”¾æ•°å­—
        async function playNumbers(numbers) {
            gameState.isPlaying = true;
            elements.playBtn.disabled = true;
            elements.submitBtn.disabled = true;
            elements.answerInput.disabled = true;
            elements.answerInput.value = '';
            
            // æ’­æ”¾æ—¶éšè—è¾“å…¥åŒºåŸŸå’Œé”®ç›˜
            elements.inputArea.style.display = 'none';
            elements.numberKeyboard.style.display = 'none';

            for (let i = 0; i < numbers.length; i++) {

                elements.audioPlay.pause(); // æš‚åœéŸ³é¢‘
                elements.audioPlay.currentTime = 0; // é‡ç½®å½“å‰æ’­æ”¾æ—¶é—´ä¸º0

                elements.audioPlay.src = videoList[numbers[i]];
                elements.audioPlay.load();
                elements.audioPlay.play();

                // ç­‰å¾…1ç§’
                await new Promise(resolve => setTimeout(resolve, 1000));

                // å¦‚æœä¸æ˜¯æœ€åä¸€ä¸ªæ•°å­—ï¼Œæ˜¾ç¤ºé—´éš”
                if (i < numbers.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, 500));
                }
            }

            // æ’­æ”¾å®Œæˆåæ˜¾ç¤ºè¾“å…¥åŒºåŸŸå’Œé”®ç›˜
            elements.inputArea.style.display = 'block';
            elements.numberKeyboard.style.display = 'grid';
            elements.answerInput.disabled = false;
            elements.answerInput.removeAttribute('readonly');
            elements.submitBtn.disabled = false;
            elements.answerInput.focus();
            gameState.isPlaying = false;
            elements.playBtn.disabled = false;
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer() {
            const userInput = elements.answerInput.value.trim();
            const userarr = Array.from(userInput);

            // æ­£ç¡®ç­”æ¡ˆæ˜¯åŸæ•°å­—ä»å°åˆ°å¤§æ’åº
            const correctAnswer = [...gameState.currentNumbers].sort((a, b) => a - b);

            // æ£€æŸ¥ç­”æ¡ˆ
            const isCorrect = userarr.length === correctAnswer.length &&
                userarr.every((num, index) => parseInt(num) === correctAnswer[index]);

            showMessage(
                isCorrect ? 'success' : 'error',
                isCorrect ? 'å›ç­”æ­£ç¡®ï¼' : `å›ç­”é”™è¯¯ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${correctAnswer.join(' ')}`
            );

            return isCorrect;
        }

        // æ˜¾ç¤ºæ¶ˆæ¯
        function showMessage(type, text) {
            elements.message.className = `message ${type}`;
            elements.message.textContent = text;
            elements.message.style.display = 'block';

            setTimeout(() => {
                elements.message.style.display = 'none';
            }, 3000);
        }

        // ä¸‹ä¸€ç»„é¢˜ç›®
        function nextGroup() {
            gameState.currentGroup++;
            gameState.currentAttempt = 1;
            gameState.numberCount = Math.min(gameState.numberCount + 1, 16);
            updateStatus();
            startRound();
        }

        // å¼€å§‹ä¸€è½®
        function startRound() {
            gameState.currentNumbers = generateNumbers(gameState.numberCount);
            elements.answerInput.value = '';
            //elements.numberDisplay.textContent = 'å‡†å¤‡å¼€å§‹...';

            setTimeout(() => {
                playNumbers(gameState.currentNumbers);
            }, 1000);
        }

        // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
        function updateStatus() {
            elements.currentGroup.textContent = gameState.currentGroup;
            elements.currentAttempt.textContent = gameState.currentAttempt;
            elements.numberCount.textContent = gameState.numberCount;
        }

        // æ¸¸æˆç»“æŸ
        function endGame() {
            elements.displayArea.style.display = 'none';
            elements.inputArea.style.display = 'none';
            elements.playBtn.style.display = 'none';
            elements.submitBtn.style.display = 'none';
            elements.statusBar.style.display = 'none';
            elements.gameOver.style.display = 'block';

            const score = (gameState.currentGroup - 1) * 10;
            elements.finalScore.textContent = score;
            elements.completedGroups.textContent = gameState.currentGroup - 1;
        }

        // äº‹ä»¶ç›‘å¬
        elements.startBtn.addEventListener('click', () => {

            const { aplus_queue } = window;
            const eventCode = 'hearing'
            const eventType = 'CLK'
            var now = new Date(); // åˆ›å»ºä¸€ä¸ªDateå¯¹è±¡ï¼Œå®ƒä»£è¡¨å½“å‰æ—¥æœŸå’Œæ—¶é—´
            var timeString = now.toLocaleTimeString(); // å°†æ—¥æœŸå’Œæ—¶é—´è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´å­—ç¬¦ä¸²
            const eventParams = { name: 'startBtn', time: timeString }
            aplus_queue.push({
                action: 'aplus.record',
                arguments: [eventCode, eventType, eventParams]
            });
            elements.instructions.style.display = 'none';
            elements.statusBar.style.display = 'flex';
            elements.displayArea.style.display = 'flex';
            elements.inputArea.style.display = 'block';
            elements.startBtn.style.display = 'none';
            elements.playBtn.style.display = 'inline-block';
            elements.submitBtn.style.display = 'inline-block';

            elements.audioPlay.pause(); // æš‚åœéŸ³é¢‘
            elements.audioPlay.currentTime = 0; // é‡ç½®å½“å‰æ’­æ”¾æ—¶é—´ä¸º0
          
            gameState.currentNumbers = generateNumbers(gameState.numberCount);
            playNumbers(gameState.currentNumbers);
        });

        elements.playBtn.addEventListener('click', () => {

            const { aplus_queue } = window;
            const eventCode = 'hearing'
            const eventType = 'CLK'
            var now = new Date(); // åˆ›å»ºä¸€ä¸ªDateå¯¹è±¡ï¼Œå®ƒä»£è¡¨å½“å‰æ—¥æœŸå’Œæ—¶é—´
            var timeString = now.toLocaleTimeString(); // å°†æ—¥æœŸå’Œæ—¶é—´è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´å­—ç¬¦ä¸²
            const eventParams = { name: 'playBtn', time: timeString }
            aplus_queue.push({
                action: 'aplus.record',
                arguments: [eventCode, eventType, eventParams]
            });
            if (!gameState.isPlaying) {
                 playNumbers(gameState.currentNumbers);
            }
        });

        elements.submitBtn.addEventListener('click', () => {

            const { aplus_queue } = window;
            const eventCode = 'hearing'
            const eventType = 'CLK'
            var now = new Date(); // åˆ›å»ºä¸€ä¸ªDateå¯¹è±¡ï¼Œå®ƒä»£è¡¨å½“å‰æ—¥æœŸå’Œæ—¶é—´
            var timeString = now.toLocaleTimeString(); // å°†æ—¥æœŸå’Œæ—¶é—´è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´å­—ç¬¦ä¸²
            const eventParams = { name: 'submit', time: timeString }
            aplus_queue.push({
                action: 'aplus.record',
                arguments: [eventCode, eventType, eventParams]
            });
            const isCorrect = checkAnswer();

            if (isCorrect) {
                if (gameState.currentGroup >= gameState.maxGroups) {
                    alert("ä½“éªŒå®Œæˆï¼æ„Ÿè°¢æ‚¨çš„å‚ä¸ï¼");
                    window.parent.postMessage({type: 'keepwork_goto_url', 
                      url: 'https://keepwork.com/maisi/maisi/landingpage/report2?count=16'}, '*');
                } else {
                    setTimeout(nextGroup, 2000);
                }
            } else {
                if (gameState.currentAttempt === 1) {
                    gameState.currentAttempt = 2;
                    updateStatus();
                    showMessage('info', 'å†è¯•ä¸€æ¬¡ï¼');
                    setTimeout(startRound, 2000);
                } else {
                    alert("ä½“éªŒå®Œæˆï¼æ„Ÿè°¢æ‚¨çš„å‚ä¸ï¼");
                  
                    const count = parseInt(gameState.numberCount) - 1
                    if (count < 6) {
                        window.parent.postMessage({type: 'keepwork_goto_url', 
                           url: 'https://keepwork.com/maisi/maisi/landingpage/report?count='+count+'&code=7',
                           params: { count : count , code : 7 }            }, '*');
                    } else {
                        window.parent.postMessage({type: 'keepwork_goto_url', 
                           url: 'https://keepwork.com/maisi/maisi/landingpage/report2?count='+ count}, '*');
                    }
                }
            }
        });
        //æ’­æ”¾è§„åˆ™
        function playRules() {

         const { aplus_queue } = window;
         const eventCode = 'hearing'
         const eventType = 'CLK'
         var now = new Date(); // åˆ›å»ºä¸€ä¸ªDateå¯¹è±¡ï¼Œå®ƒä»£è¡¨å½“å‰æ—¥æœŸå’Œæ—¶é—´
         var timeString = now.toLocaleTimeString(); // å°†æ—¥æœŸå’Œæ—¶é—´è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´å­—ç¬¦ä¸²
         const eventParams = { name: 'playRules', time: timeString }
         aplus_queue.push({
             action: 'aplus.record',
             arguments: [eventCode, eventType, eventParams]
         });
            const timer = setInterval(()=> {

                if (videoList.length > 10 && videoList[10] != null) {
                    elements.audioPlay.src = videoList[10];
                    elements.audioPlay.play();
                    clearInterval(timer);
                }
            },300)
        }
        
        // æ•°å­—é”®ç›˜åŠŸèƒ½
        function initNumberKeyboard() {
            const numberKeys = document.querySelectorAll('.number-key');
            
            numberKeys.forEach(key => {
                key.addEventListener('click', () => {
                    const number = key.getAttribute('data-number');
                    const currentValue = elements.answerInput.value;
                    
                    if (number) {
                        // æ·»åŠ æ•°å­—
                        elements.answerInput.value = currentValue + number;
                    } else if (key.classList.contains('backspace')) {
                        // åˆ é™¤æœ€åä¸€ä¸ªå­—ç¬¦
                        elements.answerInput.value = currentValue.slice(0, -1);
                    } else if (key.classList.contains('clear')) {
                        // æ¸…ç©º
                        elements.answerInput.value = '';
                    }
                    
                    // è§¦å‘inputäº‹ä»¶ä»¥ä¾¿å…¶ä»–åŠŸèƒ½æ­£å¸¸å·¥ä½œ
                    elements.answerInput.dispatchEvent(new Event('input'));
                });
            });
        }
        
        // ä¿®æ”¹æ’­æ”¾æ•°å­—å‡½æ•°ï¼Œå»æ‰updateNumberDisplayè°ƒç”¨
        async function playNumbers(numbers) {
            gameState.isPlaying = true;
            elements.playBtn.disabled = true;
            elements.submitBtn.disabled = true;
            elements.answerInput.disabled = true;
            elements.answerInput.value = '';
            
            // æ’­æ”¾æ—¶éšè—è¾“å…¥åŒºåŸŸå’Œé”®ç›˜
            elements.inputArea.style.display = 'none';
            elements.numberKeyboard.style.display = 'none';

            for (let i = 0; i < numbers.length; i++) {

                elements.audioPlay.pause(); // æš‚åœéŸ³é¢‘
                elements.audioPlay.currentTime = 0; // é‡ç½®å½“å‰æ’­æ”¾æ—¶é—´ä¸º0

                elements.audioPlay.src = videoList[numbers[i]];
                elements.audioPlay.load();
                elements.audioPlay.play();

                // ç­‰å¾…1ç§’
                await new Promise(resolve => setTimeout(resolve, 1000));

                // å¦‚æœä¸æ˜¯æœ€åä¸€ä¸ªæ•°å­—ï¼Œæ˜¾ç¤ºé—´éš”
                if (i < numbers.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, 500));
                }
            }

            // æ’­æ”¾å®Œæˆåæ˜¾ç¤ºè¾“å…¥åŒºåŸŸå’Œé”®ç›˜
            elements.inputArea.style.display = 'block';
            elements.numberKeyboard.style.display = 'grid';
            elements.answerInput.disabled = false;
            elements.answerInput.removeAttribute('readonly');
            elements.submitBtn.disabled = false;
            elements.answerInput.focus();
            gameState.isPlaying = false;
            elements.playBtn.disabled = false;
        }

        // åˆ é™¤inputäº‹ä»¶ç›‘å¬ä¸­çš„updateNumberDisplayè°ƒç”¨
        elements.answerInput.addEventListener('input', function() {
            // åªä¿ç•™å¿…è¦çš„åŠŸèƒ½ï¼Œä¸å†æ›´æ–°æ•°å­—æ˜¾ç¤º
        });
        
        // ä¿ç•™å›è½¦æäº¤äº‹ä»¶å¹¶æ·»åŠ inputäº‹ä»¶ç›‘å¬
        elements.answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !elements.submitBtn.disabled) {
                elements.submitBtn.click();
            }
        });
        
        // ä¸ºæ‰€æœ‰è®¾å¤‡æ·»åŠ è§¦æ‘¸åé¦ˆ
        document.addEventListener('touchstart', function(e) {
            if (e.target.classList.contains('number-key')) {
                e.target.style.transform = 'scale(0.95)';
            }
        });
        
        document.addEventListener('touchend', function(e) {
            if (e.target.classList.contains('number-key')) {
                setTimeout(() => {
                    e.target.style.transform = 'scale(1)';
                }, 100);
            }
        });
        
        // åˆå§‹åŒ–é¡µé¢,è·å–éŸ³é¢‘
        initPage();
    </script>
</body>
</html>